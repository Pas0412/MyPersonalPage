{"version":3,"file":"js/482.884fa5dd.js","mappings":"6gBA0DA,MAAMA,GAAQC,EAAAA,EAAAA,MACd,IAAIC,GAAWC,EAAAA,EAAAA,KAAS,IAAMH,EAAMI,MAAMC,KAAKC,WAE3CC,GAAUC,EAAAA,EAAAA,KAAI,GAGlB,MAAMC,GAAWD,EAAAA,EAAAA,IAAI,IAGfE,GAAcF,EAAAA,EAAAA,IAAI,IAExBG,EAAAA,EAAAA,KAAUC,gBACFZ,EAAMa,SAAS,yBAIvB,MAAMC,GAAaN,EAAAA,EAAAA,IAAI,CAAC,OAGlBO,GAAaP,EAAAA,EAAAA,IAAI,IAEjBQ,GAAkBR,EAAAA,EAAAA,IAAI,IAGtBS,EAAoBC,IACxBF,EAAgBG,MAAQD,GAGpBE,EAAe,KACnBJ,EAAgBG,MAAQ,IAIpBE,GAAmBlB,EAAAA,EAAAA,KAAS,KAChC,MAAMmB,GAASZ,EAAYS,MAAQ,GAAKV,EAASU,MAC3CI,EAAMD,EAAQb,EAASU,MAC7B,IAAIK,EAAStB,EAASiB,MAAMM,MAAMH,EAAOC,GAmBzC,OAlBIP,EAAgBG,OACY,OAA1BH,EAAgBG,QAClBK,EAASA,EAAOE,QACbC,GAAYA,EAAQT,WAAaF,EAAgBG,SAIpDJ,EAAWI,QACbK,EAASA,EAAOE,QAAQC,GACtBA,EAAQC,MAAMC,SAASd,EAAWI,UAGtCW,QAAQC,IAAIP,GACZV,EAAWK,MAAQ,IAAI,IAAIa,IAAI9B,EAASiB,MAAMc,KAAKC,GAAQA,EAAIhB,aAC/DJ,EAAWK,MAAMgB,QAAQ,MACrBX,EAAOY,OAAS,IAClB7B,EAAQY,OAAQ,GAEXK,K,uoCC3GT,MAAMa,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,uUCFA,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE","sources":["webpack://mypersonalpage/./src/components/Notes.vue","webpack://mypersonalpage/./src/components/Notes.vue?c517","webpack://mypersonalpage/./src/views/SidePage/Notes.vue"],"sourcesContent":["<template>\r\n  <div class=\"article-list-container\">\r\n    <div class=\"search-container\">\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"搜索文章标题\"\r\n        v-model=\"searchText\"\r\n        class=\"search-input\"\r\n      />\r\n    </div>\r\n    <div class=\"article-panel\">\r\n      <div class=\"sidebar\">\r\n        <div\r\n          v-for=\"category in categories\"\r\n          :key=\"category\"\r\n          class=\"sidebar-item\"\r\n          @click=\"filterByCategory(category)\"\r\n        >\r\n          {{ category }}\r\n        </div>\r\n      </div>\r\n      <div class=\"article-content\">\r\n        <ListItem\r\n          v-for=\"article in filteredArticles\"\r\n          :key=\"article.id\"\r\n          :article=\"article\"\r\n        />\r\n        <n-spin v-if=\"loading\"></n-spin>\r\n        <n-empty\r\n          description=\"这里啥也没有\"\r\n          v-if=\"filteredArticles.length === 0 && !loading\"\r\n        >\r\n          <template #extra>\r\n            <n-button size=\"small\" @click=\"onViewOthers\">\r\n              看看别的分类\r\n            </n-button>\r\n          </template>\r\n        </n-empty>\r\n      </div>\r\n    </div>\r\n    <div class=\"pagination\">\r\n      <n-pagination\r\n        :display-order=\"['quick-jumper', 'pages', 'size-picker']\"\r\n        v-model:page=\"currentPage\"\r\n        :page-count=\"Math.ceil(articles.length / pageSize)\"\r\n        show-quick-jumper\r\n        show-size-picker\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from \"vue\";\r\nimport ListItem from \"./ListItem.vue\";\r\nimport { NPagination, NEmpty, NButton, NSpin } from \"naive-ui\";\r\nimport { useStore } from \"vuex\";\r\n\r\nconst store = useStore();\r\nlet articles = computed(() => store.state.note.noteList);\r\n\r\nlet loading = ref(true);\r\n\r\n// 每页显示的数据量\r\nconst pageSize = ref(10);\r\n\r\n// 当前页码\r\nconst currentPage = ref(1);\r\n// 从后端获取的文章数据\r\nonMounted(async () => {\r\n  await store.dispatch(\"note/fetchNoteList\");\r\n});\r\n\r\n// 模拟从后端获取的分类数据\r\nconst categories = ref([\"全部\"]);\r\n\r\n// 当前搜索的文本内容\r\nconst searchText = ref(\"\");\r\n// 当前选中的分类\r\nconst currentCategory = ref(\"\");\r\n\r\n// 根据分类筛选文章列表的函数\r\nconst filterByCategory = (category) => {\r\n  currentCategory.value = category;\r\n};\r\n\r\nconst onViewOthers = () => {\r\n  currentCategory.value = \"\";\r\n};\r\n\r\n// 计算属性，根据搜索文本和当前分类筛选出要展示的文章列表\r\nconst filteredArticles = computed(() => {\r\n  const start = (currentPage.value - 1) * pageSize.value;\r\n  const end = start + pageSize.value;\r\n  let result = articles.value.slice(start, end);\r\n  if (currentCategory.value) {\r\n    if (currentCategory.value !== \"全部\") {\r\n      result = result.filter(\r\n        (article) => article.category === currentCategory.value\r\n      );\r\n    }\r\n  }\r\n  if (searchText.value) {\r\n    result = result.filter((article) =>\r\n      article.title.includes(searchText.value)\r\n    );\r\n  }\r\n  console.log(result);\r\n  categories.value = [...new Set(articles.value.map((obj) => obj.category))];\r\n  categories.value.unshift(\"全部\");\r\n  if (result.length > 0) {\r\n    loading.value = false;\r\n  }\r\n  return result;\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.article-list-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  padding: 10px;\r\n}\r\n\r\n.search-container {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.search-input {\r\n  width: 300px;\r\n  padding: 8px 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  background-color: transparent;\r\n}\r\n\r\n.article-panel {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex: 1;\r\n}\r\n\r\n.sidebar {\r\n  min-width: 13rem;\r\n  height: 100%;\r\n  border-right: 1px solid #ccc;\r\n  margin-top: 10px;\r\n  padding: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n.sidebar-item {\r\n  cursor: pointer;\r\n  min-height: 2rem;\r\n  padding: 5px 10px;\r\n  border-radius: 4px;\r\n  color: white;\r\n  background-color: rgba(128, 128, 128, 0.4);\r\n  font-family: \"San Francisco\";\r\n}\r\n\r\n.sidebar-item:hover {\r\n  background: linear-gradient(\r\n    to bottom,\r\n    rgba(130, 130, 130, 0.4),\r\n    rgba(128, 128, 128, 0.4)\r\n  );\r\n  box-shadow: 0 0 5px #add8e6;\r\n  cursor: pointer;\r\n}\r\n\r\n.article-content {\r\n  flex: 1;\r\n  margin-top: 10px;\r\n  padding: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n.pagination {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n</style>\r\n","import script from \"./Notes.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Notes.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Notes.vue?vue&type=style&index=0&id=f638316a&scoped=true&lang=css\"\n\nimport exportComponent from \"F:\\\\personal\\\\MyPersonalPage\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f638316a\"]])\n\nexport default __exports__","import script from \"./Notes.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Notes.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Notes.vue?vue&type=style&index=0&id=3368bea4&scoped=true&lang=css\"\n\nimport exportComponent from \"F:\\\\personal\\\\MyPersonalPage\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3368bea4\"]])\n\nexport default __exports__"],"names":["store","useStore","articles","computed","state","note","noteList","loading","ref","pageSize","currentPage","onMounted","async","dispatch","categories","searchText","currentCategory","filterByCategory","category","value","onViewOthers","filteredArticles","start","end","result","slice","filter","article","title","includes","console","log","Set","map","obj","unshift","length","__exports__"],"sourceRoot":""}